var authManager=null;$().ready(function(){cookieObj=new MapCloud.Cookie;var a=cookieObj.getCookie("username");if(admin=null,null!=a&&(admin=new GeoBeans.User(a)),null!=admin){var e="/ows/admin/mgr";authManager=new GeoBeans.AuthManager(e),MapCloud.notify=new MapCloud.Notify("container","alert_loading"),MapCloud.usePanel=new MapCloud.UsePanel("use_panel"),MapCloud.usePanel.getUseStat()}});
MapCloud.UsePanel=MapCloud.Class({panel:null,initialize:function(e){this.panel=$("#"+e),this.registerPanelEvent()},registerPanelEvent:function(){},getUseStat:function(){var e=free.slice(0,free.length-1),t=used.slice(0,used.length-1);e=parseFloat(e),t=parseFloat(t),option={title:{text:"分布式文件系统",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:["已使用空间","未使用空间"]},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,series:[{name:"分布式文件系统",type:"pie",radius:"55%",center:["30%","60%"],data:[{value:t,name:"已使用空间"},{value:e,name:"未使用空间"}],itemStyle:{normal:{label:{position:"inner",formatter:function(e){return(e.percent-0).toFixed(0)+"%"}},labelLine:{show:!1}}}}],animation:!1};var a=echarts.init(document.getElementById("use_chart"),"macarons");a.setOption(option),this.panel.find("#total_size").html(total),this.panel.find("#used_size").html(used),this.panel.find("#free_size").html(free),this.panel.find("#usage_size").html(usage)}});