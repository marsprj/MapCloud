<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<link rel="stylesheet" type="text/css" href="../css/bootstrap-3.2.0-dist/css/bootstrap.min.css"/>
	<link rel="stylesheet" type="text/css" href="../css/bootstrap-3.2.0-dist/css/font-awesome.min.css"/>
	<link rel="stylesheet" type="text/css" href="../css/jquery-ui/ui.notify.css" type="text/css">

	<link rel="stylesheet" type="text/css" href="css/mc-user.min.css"/>
	<link rel="stylesheet" type="text/css" href="../css/common.min.css"/>

	<script type="text/javascript" src="../js/3rd/jquery-1.11.1.js"></script>
	<script type="text/javascript" src="../js/3rd/jquery-ui/jquery-ui.min.js"></script>
	<script type="text/javascript" src="../js/3rd/jquery-ui/jquery.notify.min.js"></script>
	<script type="text/javascript" src="../js/3rd/bootstrap-3.2.0-dist/bootstrap.min.js"></script>
	<script type="text/javascript" src="../js/common.min.js"></script>
	<script type="text/javascript" src="../../Map5/lib/Map5.min.js"></script>
	<script type="text/javascript" src="js/mc-user-raster.min.js"></script>

	<title>影像管理</title>
</head>
	
<body id="user_map_panel">
	<div id="raster_panel" class="common-panel">
		<div id="title_wrapper">
			<div class="title_box">
				影像管理
			</div>
		</div>
		<div class="main-panel">
			<div class="left-panel">
				<div class="left-title-bar">
					<div class="left-title-icon"></div>
					<div>数据库</div>
				</div>
				<div class="left-panel-content">
					<div class="raster-db-tree list-tree list-tree-ul-div">
					</div>
				</div>
			</div>
			<div class="right-panel">
				<!-- 数据列表面板 -->
				<div class="right-panel-tab" id="datasources_tab">
					<div class="right-panel-bar">
						<span class="float-left">数据库列表</span>
						<div class="data_title_bar">
							<a href="javascript:void(0)"class="add-db">新建数据源</a>
						</div>
					</div>
					<div class="right-panel-content">
						<div class="row header-row">
							<div class="col-md-1">
								序号
							</div>
							<div class="col-md-2">
								名称
							</div>
							<div class="col-md-2">
								地址
							</div>
							<div class="col-md-1">
								端口
							</div>
							<div class="col-md-1">
								数据库
							</div>
							<div class="col-md-1">
								用户
							</div>
							<div class="col-md-2">
								密码
							</div>	
							<div class="col-md-2">
								操作
							</div>											
						</div>
						<div class="raster-db-list">

						</div>
					</div>
				</div>
				<!-- 数据库面板 -->
				<div class="right-panel-tab" id="datasource_tab">
					<div class="right-panel-bar">
						<a href="javascript:void(0)" class="return-datasources-list float-left">数据库列表</a>
						<span class="float-left">>></span>
						<span class="current-db float-left"></span>
						<div class="path-div float-left">
							<input type="text" class="form-control current-path" disabled=""value="/">
						</div>
						<div class="data_title_bar">
							<a href="javascript:void(0)" class="add-folder">新建目录</a>
							<a href="javascript:void(0)" class="remove-file">删除目录</a>
							<a href="javascript:void(0)" class="refresh-folder">刷新目录</a>
							<a href="javascript:void(0)" class="upload-raster">上传影像</a>
						</div>
						<div class="btn-group btn-group-xs pull-right">
							<button type="button" class="btn btn-default" id="show-raster-list" disabled="">列表</button>
							<button type="button" class="btn btn-default" id="show-raster-thumb" >预览</button>
						</div>
					</div>
					<div class="right-panel-content">
						<div class="right-panel-content-tab" id="raster_list_tab">
							<div class="row header-row">
								<div class="col-md-1"></div>
								<div class="col-md-3">名称</div>
								<div class="col-md-1">类型</div>
								<div class="col-md-3">创建时间</div>
								<div class="col-md-3">最后访问时间</div>
							</div>
							<div class="raster-folder-list">
							</div>
							</div>
						<div class="right-panel-content-tab" id="raster_thumb_tab">
							
						</div>
						
					</div>
				</div>

				<!-- 影像面板 -->
				<div class="right-panel-tab" id="raster_tab">
					<div class="right-panel-bar">
						<a href="javascript:void(0)" class="return-datasources-list float-left">数据库列表</a>
						<span class="float-left">>></span>
						<span class="current-db float-left"></span>
						<div class="path-div float-left">
							<input type="text" class="form-control current-raster-path" disabled="" value="/">
						</div>
						<div class="btn-group btn-group-xs pull-right" role="group">
							<button type="button" class="btn btn-default" id="show_raster_infos" disabled="disabled">信息</button>
							<button type="button" class="btn btn-default" id="show_raster_preview">预览</button>
						</div>
					</div>
					<div class="right-panel-content">
						<div class="right-panel-content-tab" id="raster_infos_tab">
							
						</div>
						<div class="right-panel-content-tab" id="raster_preview_tab">
							<span></span><img src="" alt="">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Notify  -->
	<div id="container" style="display:none">
		<div id="default">
			<a class="ui-notify-close ui-notify-cross" href="javascript:void(0)">x</a>
			<span>#{title}</span>
			<span>:</span>
			<span>#{text}</span>
		</div>
	</div>

	<!-- loading panel -->
	<div class="screen-alert" id="alert_loading">
		<span>Please wait ...</span>
	</div>


	<!-- DataSource Connect panel -->
	<div class="modal fade" id="pgisConnDialog" tabindex="-1" role="dialog" aria-labelledby="style-name-dialogLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
					<h5 class="modal-title">数据源添加</h5>
				</div>
				<div class="modal-body">
					<form class="form-horizontal" role="form">
						<div class="form-group form-group-sm">
							<label for="" class="col-md-3 control-label">名称
							</label>
							<div class="col-md-8">
								<input class="form-control" id="data_source_conn_name">
							</div>
						</div>
						<div class="form-group form-group-sm">
							<label for="" class="col-md-3 control-label">地址
							</label>
							<div class="col-md-8">
								<input class="form-control" id="data_source_conn_server" value="192.168.111.160">
							</div>
						</div>
						<div class="form-group form-group-sm">
							<label for="" class="col-md-3 control-label">端口
							</label>
							<div class="col-md-8">
								<input type="text" class="form-control" id="data_source_conn_instance" value="5432">
							</div>
						</div>
						<div class="form-group form-group-sm">
							<label for="" class="col-md-3 control-label">数据库
							</label>
							<div class="col-md-8">
								<input class="form-control" id="data_source_conn_db" value="gisdb">
							</div>
						</div>
						<div class="form-group form-group-sm">
							<label for="" class="col-md-3 control-label">用户
							</label>
							<div class="col-md-8">
								<input class="form-control" id="data_source_conn_user" value="postgres">
							</div>
						</div>	
						<div class="form-group form-group-sm">
							<label for="" class="col-md-3 control-label">密码
							</label>
							<div class="col-md-8">
								<input class="form-control" type="password" id="data_source_conn_password" value="qwer1234">
							</div>
						</div>
						<!-- <div class="form-group form-group-sm" style="margin-top:20px">
							<div class="col-md-4 col-md-offset-4">
								<button type="button" id="data_source_conn_test" class="btn btn-success btn-sm">连接测试</button>
							</div>
						</div> -->
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" id="data_source_conn_test" class="btn btn-success">连接测试</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary btn-confirm">确定</button>
				</div>
			</div>
		</div> 
	</div>


	<!-- Create Folder panel -->
	<div class="modal fade" id="create_folder_dialog" tabindex="-1" role="dialog" aria-labelledby="style-name-dialogLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
					<h5 class="modal-title">新建文件夹</h5>
				</div>
				<div class="modal-body">
					<input type="text" class="form-control" placeHolder="请输入名称" id="create_folder_name">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
					<button type="button" class="btn btn-primary btn-confirm">确定</button>
				</div>
			</div>
		</div> 
	</div>

	<!-- Import Raster Panel -->
	<div class="modal fade" id="import_raster_dialog" tabindex="-1" role="dialog" aria-labelledby="style-name-dialogLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
					<h5 class="modal-title">影像数据库上传</h5>
				</div>
				<div class="modal-body">
					<form class="form-horizontal">
						<div class="form-group form-group-sm">
							<label class="control-label col-md-2 label-item">
								数据库:
							</label>
							<div class="col-md-4">
								<input class="form-control import-db-name" type="text" disabled="">
							</div>
							<label class="control-label col-md-2 label-item" style="margin-left:40px;">
								路径:
							</label>
							<div class="col-md-4">
								<input class="form-control import-raster-path" type="text" disabled="" >
							</div>
						</div>
						<div class="form-group form-group-sm">
							
						</div>
					</form>
					<div class="row import-content-div">
						<div class="col-md-11" style="height:100%">
							<div class="import-list-wrapper">
								<div class="row header-row">
									<div class="col-md-6">文件路径</div>
									<div class="col-md-6">影像名称</div>
								</div>
								<div class="import-list-div"></div>
							</div>
						</div>
						<div class="col-md-1 import-tool-div">
							<ul>
  							  	<li>
  							  		<button class="btn btn-lg btn-default import-btn-add" data-toggle="tooltip" data-placement="top" data-original-title="选择文件">
  							  			<i class="fa fa-plus"></i>
  									</button>
  								 </li>
  								 <li>
  							  		<button class="btn btn-lg btn-default import-btn-remove" data-toggle="tooltip" data-placement="top" data-original-title="删除文件">
  							  			<i class="fa fa-remove"></i>
  									</button>
  								 </li>
  								 <li>
  							  		<button class="btn btn-lg btn-default import-btn-upload" data-toggle="tooltip" data-placement="top" data-original-title="导入">
  							  			<i class="fa fa-arrow-right" style="color:green"></i>
  									</button>
  								 </li>
  								 <li style="margin-top:108px">
  							  		<button class="btn btn-lg btn-default import-btn-log log-col" data-toggle="tooltip" data-placement="top" data-original-title="查看日志">
  							  			<i class="fa fa-chevron-down"></i>
  									</button>
  								 </li>
  							</ul>
						</div>
					</div>
					<div class="import-log-wrapper" style="display: none;">
						<label>结果</label>
						<div class="row import-log-row">
							<div class="col-md-11 import-log-div"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- File Dialog -->
	<div class="modal fade" id="fileDialog" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="true">
		 <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
	                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
	                <h5 class="modal-title">文件管理</h5>
	            </div>
	            <div class="modal-body row">
					<div class="col-md-3 file-tree-div">
						<ul class="nav" style="padding-left:8px">
							<li>
								<a href="javascript:void(0)" class="file-tree tree-folder selected" fpath="/">
									<i class="fa fa-folder-o"></i>
									<span>/</span>
								</a>
							</li>
						</ul>
					</div>
					<div class="col-md-9 file-list-div">
						<div class="inner-div">
							<div class="row tool-row">
								<div class="col-md-8">
									<input type="text" class="form-control" disabled="" id="current_path" value="/">
								</div>
								<div class="col-md-4 btn-group-tool">
									<div class=" btn-group btn-group-justified"  role="group">
										<a class="btn btn-default btn-add-folder" data-toggle="tooltip" data-placement="top" data-original-title="新建文件夹">
											<i class='fa fa-folder-o'></i>
										</a>
										<a class="btn btn-default btn-remove-file" data-toggle="tooltip" data-placement="top" data-original-title="删除">
											<i class="fa fa-trash-o"></i>
										</a>
										<a class="btn btn-default btn-upload-file" data-toggle="tooltip" data-placement="top" data-original-title="上传">
											<i class="fa fa-upload"></i>
										</a>
										<a class="btn btn-default btn-refresh" data-toggle="tooltip" data-placement="top" data-original-title="刷新">
											<i class="fa fa-refresh"></i>
										</a>
									</div>
								</div>
							</div>
							<div class="file-list-wrapper">
								<div class="row header-row">
									<div class="col-md-1"></div>
									<div class="col-md-3">名称</div>
									<div class="col-md-1">类型</div>
									<div class="col-md-3">创建时间</div>
									<div class="col-md-3">最后访问时间</div>
									<div class="col-md-1">大小</div>
								</div>
								<div class="file-list-content-div">
								</div>
							</div>
							<div class="row file-filter-row">
								<div class="col-md-3 col-md-offset-9">
									<select class="form-control" id="file_filter_select">
										<option value="all">All Files(*.*)</option>
										<option value="shp">Shape Files(*.shp)</option>
										<option value="jpeg,jpg,png,tif">Image Files(*.jpeg,*.jpg,*.png,*.tif)</option>
									</select>
								</div>
							</div>
						</div>
					</div>
	            </div>
	            <div class="modal-footer">
	                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
	                <button type="button" class="btn btn-primary btn-confirm">确定</button>
	            </div>
	        </div>
	    </div>
	</div>	
</body>

